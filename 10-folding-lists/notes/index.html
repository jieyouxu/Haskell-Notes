



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>List Folding - Haskell Notes</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#list-folding" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Haskell Notes" class="md-header-nav__button md-logo">
          
            <img src="../../images/favicon.ico" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Haskell Notes
            </span>
            <span class="md-header-nav__topic">
              
                List Folding
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/jieyouxu/Haskell-Notes/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jieyouxu/Haskell-Notes
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Haskell Notes" class="md-nav__button md-logo">
      
        <img src="../../images/favicon.ico" width="48" height="48">
      
    </a>
    Haskell Notes
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/jieyouxu/Haskell-Notes/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jieyouxu/Haskell-Notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../1-foundation/notes/" title="Foundation" class="md-nav__link">
      Foundation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../2-haskell-basics/notes/" title="Haskell Basics" class="md-nav__link">
      Haskell Basics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../3-strings/notes/" title="Strings" class="md-nav__link">
      Strings
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../4-basic-datatypes/notes/" title="Basic Datatypes" class="md-nav__link">
      Basic Datatypes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../5-types/notes/" title="Types" class="md-nav__link">
      Types
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../6-typeclasses/notes/" title="Typeclasses" class="md-nav__link">
      Typeclasses
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../7-functional-patterns/notes/" title="Functional Patterns" class="md-nav__link">
      Functional Patterns
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../8-recursion/notes/" title="Recursion" class="md-nav__link">
      Recursion
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../9-lists/notes/" title="Lists" class="md-nav__link">
      Lists
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        List Folding
      </label>
    
    <a href="./" title="List Folding" class="md-nav__link md-nav__link--active">
      List Folding
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#folding" title="Folding" class="md-nav__link">
    Folding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recursion" title="Recursion" class="md-nav__link">
    Recursion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fold-right" title="Fold Right" class="md-nav__link">
    Fold Right
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fold-left" title="Fold Left" class="md-nav__link">
    Fold Left
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#folding-and-evaluation" title="Folding and Evaluation" class="md-nav__link">
    Folding and Evaluation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../11-algebraic-datatypes/notes/" title="Algebraic Datatypes" class="md-nav__link">
      Algebraic Datatypes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../12-handling-exceptions/notes/" title="Handling Exceptions" class="md-nav__link">
      Handling Exceptions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../13-building-projects/notes/" title="Building Projects" class="md-nav__link">
      Building Projects
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../15-monoids-semigroups/notes/" title="Monoids, Semigroups" class="md-nav__link">
      Monoids, Semigroups
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../16-functors/notes/" title="Functors" class="md-nav__link">
      Functors
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../17-applicatives/notes/" title="Applicatives" class="md-nav__link">
      Applicatives
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../misc/y-combinator/" title="Y Combinator" class="md-nav__link">
      Y Combinator
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#folding" title="Folding" class="md-nav__link">
    Folding
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recursion" title="Recursion" class="md-nav__link">
    Recursion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fold-right" title="Fold Right" class="md-nav__link">
    Fold Right
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fold-left" title="Fold Left" class="md-nav__link">
    Fold Left
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#folding-and-evaluation" title="Folding and Evaluation" class="md-nav__link">
    Folding and Evaluation
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jieyouxu/Haskell-Notes/edit/master/docs/10-folding-lists/notes.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="list-folding">List Folding<a class="headerlink" href="#list-folding" title="Permanent link">&para;</a></h1>
<h2 id="folding">Folding<a class="headerlink" href="#folding" title="Permanent link">&para;</a></h2>
<p>Folds are called <strong>catamorphisms</strong>, which are means of deconstructing data.</p>
<div class="codehilite"><pre><span></span><span class="nf">foldr</span> <span class="ow">::</span> <span class="kt">Foldable</span> <span class="n">t</span> <span class="ow">=&gt;</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">t</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span>
</pre></div>

<p>When specialized to lists which are instances of <code class="codehilite"><span class="kt">Foldable</span></code>:</p>
<div class="codehilite"><pre><span></span><span class="nf">foldr</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="n">b</span>
</pre></div>

<p>A fold replaces the cons constructors with the supplied function
<code class="codehilite"><span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span></code> and reduces the list.</p>
<h2 id="recursion">Recursion<a class="headerlink" href="#recursion" title="Permanent link">&para;</a></h2>
<p>In the case of <code class="codehilite"><span class="nf">sum</span></code>, it uses <code class="codehilite"><span class="nf">foldr</span></code> internally by replacing the
cons <code class="codehilite"><span class="p">(</span><span class="kt">:</span><span class="p">)</span></code> constructors with the <code class="codehilite"><span class="p">(</span><span class="o">+</span><span class="p">)</span></code> operator.</p>
<p>Many functions such as <code class="codehilite"><span class="nf">sum</span></code>, <code class="codehilite"><span class="nf">length</span></code>, <code class="codehilite"><span class="nf">concat</span></code>, <code class="codehilite"><span class="nf">product</span></code>
when written in terms of themselves recursively have much structural similarity
where they relied on having an initial base case, then changing the cons
constructor into a different binary function.</p>
<details class="example"><summary>Example</summary><div class="codehilite"><pre><span></span><span class="nf">sum</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">Integer</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="kt">Integer</span>
<span class="nf">sum</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="mi">0</span>
<span class="nf">sum</span> <span class="p">(</span><span class="n">x</span> <span class="kt">:</span> <span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">sum</span> <span class="n">xs</span>

<span class="nf">length</span> <span class="ow">::</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="kt">Integer</span>
<span class="nf">length</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="mi">0</span>
<span class="nf">length</span> <span class="p">(</span><span class="kr">_</span> <span class="kt">:</span> <span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">length</span> <span class="n">xs</span>

<span class="nf">product</span> <span class="ow">::</span> <span class="p">[</span><span class="kt">Integer</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="kt">Integer</span>
<span class="nf">product</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="mi">1</span>
<span class="nf">product</span> <span class="p">(</span><span class="n">x</span> <span class="kt">:</span> <span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">product</span> <span class="n">xs</span>

<span class="nf">concat</span> <span class="ow">::</span> <span class="p">[[</span><span class="n">a</span><span class="p">]]</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span>
<span class="nf">concat</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="kt">[]</span>
<span class="nf">concat</span> <span class="p">(</span><span class="n">x</span> <span class="kt">:</span> <span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">++</span> <span class="n">concat</span> <span class="n">xs</span>
</pre></div>

<p>Notice that each base case is the <em>identity</em> for the binary function, with
associativity to the right — head is first evaluated, then the next head,
and so on.</p>
</details>
<h2 id="fold-right">Fold Right<a class="headerlink" href="#fold-right" title="Permanent link">&para;</a></h2>
<p><code class="codehilite"><span class="nf">foldr</span></code> is right-associative.</p>
<div class="codehilite"><pre><span></span><span class="nf">foldr</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="n">b</span>
<span class="nf">foldr</span> <span class="n">f</span> <span class="n">id</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="n">id</span>
<span class="nf">foldr</span> <span class="n">f</span> <span class="n">id</span> <span class="p">(</span><span class="n">x</span> <span class="kt">:</span> <span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">f</span> <span class="n">x</span> <span class="p">(</span><span class="n">foldr</span> <span class="n">f</span> <span class="n">id</span> <span class="n">xs</span> <span class="p">)</span>
</pre></div>

<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="codehilite"><pre><span></span><span class="nf">foldr</span> <span class="p">(</span><span class="o">+</span><span class="p">)</span> <span class="mi">0</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">0</span><span class="p">))</span>
<span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">1</span> <span class="o">+</span> <span class="mi">5</span>
<span class="mi">6</span>
</pre></div>

</div>
<p>Folding occurs in two stages:</p>
<ol>
<li><strong>Traversal</strong>: fold recursing the spine.</li>
<li><strong>Folding</strong>: reduction of folding function applied to values.</li>
</ol>
<p>All folds have same traversal direction, with the difference being in the
association of the folding function and thus the direction of reduction.</p>
<p>In the case of <code class="codehilite"><span class="nf">foldr</span></code> and lazy evaluation, if <code class="codehilite"><span class="nf">f</span></code> does not evaluate
rest of the fold no more part of the spine will be forced to evaluate. This
means that <code class="codehilite"><span class="nf">foldr</span></code> can avoid evaluating not only the rest of the values,
but also rest of the spine. This allows <code class="codehilite"><span class="nf">foldr</span></code> to be used with potentially
infinite lists.</p>
<h2 id="fold-left">Fold Left<a class="headerlink" href="#fold-left" title="Permanent link">&para;</a></h2>
<p><code class="codehilite"><span class="nf">foldl</span></code> traverses the input list's spine in the same direction as
<code class="codehilite"><span class="nf">foldr</span></code>, but its folding process is left associative and thus proceeds
in the opposite direction as <code class="codehilite"><span class="nf">foldr</span></code>.</p>
<div class="codehilite"><pre><span></span><span class="nf">foldl</span> <span class="ow">::</span> <span class="p">(</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="ow">-&gt;</span> <span class="n">b</span>
<span class="nf">foldl</span> <span class="n">f</span> <span class="n">acc</span> <span class="kt">[]</span> <span class="ow">=</span> <span class="n">acc</span>
<span class="nf">foldl</span> <span class="n">f</span> <span class="n">acc</span> <span class="p">(</span><span class="n">x</span> <span class="kt">:</span> <span class="n">xs</span><span class="p">)</span> <span class="ow">=</span> <span class="n">foldl</span> <span class="n">f</span> <span class="p">(</span><span class="n">f</span> <span class="n">acc</span> <span class="n">x</span><span class="p">)</span> <span class="n">xs</span>
</pre></div>

<p><code class="codehilite"><span class="nf">foldl</span></code> begins its reduction process by applying the folding function to
the accumulator <code class="codehilite"><span class="nf">acc</span></code> value and the head value.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="codehilite"><pre><span></span><span class="nf">foldr</span> <span class="p">(</span><span class="o">^</span><span class="p">)</span> <span class="mi">2</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">]</span>
<span class="p">(</span><span class="mi">1</span> <span class="o">^</span> <span class="p">(</span><span class="mi">2</span> <span class="o">^</span> <span class="p">(</span><span class="mi">3</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)))</span>
<span class="p">(</span><span class="mi">1</span> <span class="o">^</span> <span class="p">(</span><span class="mi">2</span> <span class="o">^</span> <span class="mi">9</span><span class="p">))</span>
<span class="p">(</span><span class="mi">1</span> <span class="o">^</span> <span class="mi">512</span><span class="p">)</span>
<span class="mi">1</span>
</pre></div>

<div class="codehilite"><pre><span></span><span class="nf">foldl</span> <span class="p">(</span><span class="o">^</span><span class="p">)</span> <span class="mi">2</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">]</span>
<span class="p">(((</span><span class="mi">2</span> <span class="o">^</span> <span class="mi">1</span><span class="p">)</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)</span> <span class="o">^</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">((</span><span class="mi">2</span> <span class="o">^</span> <span class="mi">2</span><span class="p">)</span> <span class="o">^</span> <span class="mi">3</span><span class="p">)</span>
<span class="p">(</span><span class="mi">4</span> <span class="o">^</span> <span class="mi">3</span><span class="p">)</span>
<span class="mi">64</span>
</pre></div>

</div>
<div class="admonition example">
<p class="admonition-title">Example</p>
<div class="codehilite"><pre><span></span><span class="nf">foldr</span> <span class="p">(</span><span class="kt">:</span><span class="p">)</span> <span class="kt">[]</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="nf">foldl</span> <span class="p">(</span><span class="n">flip</span> <span class="p">(</span><span class="kt">:</span><span class="p">))</span> <span class="kt">[]</span> <span class="p">[</span><span class="mi">1</span><span class="o">..</span><span class="mi">3</span><span class="p">]</span>
<span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</pre></div>

</div>
<div class="admonition note">
<p class="admonition-title">flip</p>
<p>The helper function <code class="codehilite"><span class="nf">flip</span></code> can be used to change the argument order
of a binary function:</p>
<div class="codehilite"><pre><span></span><span class="nf">flip</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">c</span>
<span class="nf">flip</span> <span class="n">f</span> <span class="ow">=</span> <span class="nf">\</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="nf">\</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">f</span> <span class="n">a</span> <span class="n">b</span><span class="p">)</span>
</pre></div>

<p>Or parenthesized:</p>
<div class="codehilite"><pre><span></span><span class="nf">flip</span> <span class="ow">::</span> <span class="p">(</span><span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span> <span class="ow">-&gt;</span> <span class="p">(</span><span class="n">b</span> <span class="ow">-&gt;</span> <span class="n">a</span> <span class="ow">-&gt;</span> <span class="n">c</span><span class="p">)</span>
</pre></div>

</div>
<p>Note that <code class="codehilite"><span class="nf">foldl</span></code> has unconditional recursion of the spine since the 
next recursion isn't determined by the folding function. This means that
it will not work for potentially infinite lists or lists which contain bottom
values.</p>
<h2 id="folding-and-evaluation">Folding and Evaluation<a class="headerlink" href="#folding-and-evaluation" title="Permanent link">&para;</a></h2>
<p>For finite lists, <code class="codehilite"><span class="nf">foldr</span></code> and <code class="codehilite"><span class="nf">foldl</span></code> is related by:</p>
<div class="codehilite"><pre><span></span><span class="nf">foldr</span> <span class="n">f</span> <span class="n">z</span> <span class="n">xs</span> <span class="ow">=</span> <span class="n">foldl</span> <span class="p">(</span><span class="n">flip</span> <span class="n">f</span><span class="p">)</span> <span class="n">z</span> <span class="p">(</span><span class="n">reverse</span> <span class="n">xs</span><span class="p">)</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../9-lists/notes/" title="Lists" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Lists
              </span>
            </div>
          </a>
        
        
          <a href="../../11-algebraic-datatypes/notes/" title="Algebraic Datatypes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Algebraic Datatypes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>